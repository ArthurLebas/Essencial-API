################################################################################
# Fichier de test des routes HTTP de l'API
# Nécessite l'extension REST Client pour VSCode
# https://marketplace.visualstudio.com/items?itemName=humao.rest-client
################################################################################

#@endpoint = http://localhost:3000/api
@endpoint = https://essencial-api.herokuapp.com/api

### Test d'une route introuvable
GET {{ endpoint }}/ujnlkcsdcs

/////////////////////////////////////////////////
///////////////////   USER   ///////////////////
////////////////////////////////////////////////

### Test de la route connexion globale
POST {{ endpoint }}/connexion
Content-Type:application/json

{
    "email": "Aurle.Pons43@gmail.com",
    "password": "test"
}


### Test de la route pour récupérer tous les utilisateurs (avec leurs photos)
GET {{ endpoint }}/user
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibmFtZSI6InRlc3QiLCJyZWdpb24iOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTA2LTIyVDEwOjQwOjMxLjU1NFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJ0eXBlIjoiZWNvdmlsbGFnZSIsImlhdCI6MTY1NTkwMTgxNywiZXhwIjoxNjU1OTA1NDE3fQ.QJhAyrBOMsy0pEGXl16gQruT1SoDFJB55kw2Cr_XnP4

### Test de la route pour récupérer un utilisateur et sa photo
GET {{ endpoint }}/user/235
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOm51bGwsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMlQxODoyMjoyNy41MTRaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU5MjIyMjYsImV4cCI6MTY1NTkyNTgyNn0.J9hQh_ouMNY4TOQo3lPKbciY-Yheo4tUKI0H8nbhYzg

### Test de la route pour ajouter un nouvel utilisateur
POST {{ endpoint }}/user/create
Content-Type:application/json

{
    "email": "tni@yahoo.org",
    "first_name": "Tony",
    "last_name": "Williams",
    "pseudo": "drum1",
    "date_of_birth": "2021-10-29T02:58:12.923Z",
    "password": "test",
    "phone_number": "0677777777",
    "address": "77 rue du test",
    "region": "ile de france",
    "zip_code": "75829",
    "city": "Paris",
    "path": "https://images.sk-static.com/images/media/profile_images/artists/517366/huge_avatar"
}

### Test de la route pour supprimer un utilisateur
DELETE {{ endpoint }}/user/1
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInBzZXVkbyI6IkFybWFuY2UyNCIsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxOTo0MjowNC43MDhaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU4MDYwMDAsImV4cCI6MTY1NTgwNzgwMH0.3Jq9CN5s9sNfhSvbdRmGv3v_s44iJxw1JigDfQaySmU

### Test de la route pour récupérer tout les amis d'un utilisateur
GET {{ endpoint }}/user/friends/1
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOiJib25qb3VyIG1vaSBjJ2VzdCBSb2JlcnQiLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTg6MjI6MjcuNTE0WiIsInVwZGF0ZWRfYXQiOiIyMDIyLTA2LTIzVDExOjI4OjUzLjMwNloiLCJ0eXBlIjoidXNlciIsImlhdCI6MTY1NTk4NTk2OCwiZXhwIjoxNjU1OTg5NTY4fQ.1FWBwk4uIROirW_dQEFjZ5v7YSYeQ8N2ZBcOljf61x8

### Test de la route pour récupérer tout les posts d'un utilisateur
GET {{ endpoint }}/user/posts/120
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInBzZXVkbyI6IkFybWFuY2UyNCIsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxOTo0MjowNC43MDhaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU4MDYxNjIsImV4cCI6MTY1NTgwNzk2Mn0.vAtRy0_MmbYULr3T40tLgETcnAhQ-cvFMJsEBDU68sI

### Test de la route pour afficher tout les posts de tout les amis d'un utilisateurs
GET {{ endpoint }}/user/friends/posts/120
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInBzZXVkbyI6IkFybWFuY2UyNCIsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxOTo0MjowNC43MDhaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU4MDYxNjIsImV4cCI6MTY1NTgwNzk2Mn0.vAtRy0_MmbYULr3T40tLgETcnAhQ-cvFMJsEBDU68sI

### Test de la route pour update un utilisateur
PATCH {{ endpoint }}/user
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6OSwicHNldWRvIjoiTWF0dGhpYXM2OSIsImRlc2NyaXB0aW9uIjpudWxsLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTQ6MTA6NDYuNzI4WiIsInVwZGF0ZWRfYXQiOm51bGwsInR5cGUiOiJ1c2VyIiwiaWF0IjoxNjU1OTk2NDc5LCJleHAiOjE2NTYwMDAwNzl9.P3rLCAOyio2Hs9Cbc43EzMhw0KZi4RCZJZpxpxHt4jQ

{
    "first_name": "Robert",
    "region": "Tatooine"
}

### Test de la route pour ajouter un amis
GET {{ endpoint }}/user/friends/add/14
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOiJib25qb3VyIG1vaSBjJ2VzdCBSb2JlcnQiLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTg6MjI6MjcuNTE0WiIsInVwZGF0ZWRfYXQiOiIyMDIyLTA2LTIzVDExOjI4OjUzLjMwNloiLCJ0eXBlIjoidXNlciIsImlhdCI6MTY1NTk4NTk2OCwiZXhwIjoxNjU1OTg5NTY4fQ.1FWBwk4uIROirW_dQEFjZ5v7YSYeQ8N2ZBcOljf61x8

### Test de la route pour supprimer un amis
DELETE {{ endpoint }}/user/friends/delete/11
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOm51bGwsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMlQxODoyMjoyNy41MTRaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU5ODM2NDQsImV4cCI6MTY1NTk4NzI0NH0.WyrhWA8P54e5fMbwt57BHczKFxINrtj1tiPe5VIwdZQ

////////////////////////////////////////////////
///////////////////   POST   //////////////////
///////////////////////////////////////////////

### Test de la route pour créer un nouveau post
POST {{ endpoint }}/post/create
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjAsInBzZXVkbyI6Ill2b25uZTYiLCJkZXNjcmlwdGlvbiI6bnVsbCwicmlnaHRzIjoidXNlciIsImNyZWF0ZWRfYXQiOiIyMDIyLTA2LTIyVDE0OjEwOjQ3LjAyNFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJ0eXBlIjoidXNlciIsImlhdCI6MTY1NTk5NzMyNywiZXhwIjoxNjU2MDAwOTI3fQ.NLZyIQC6eqFfCa8OYIr5LfciiMhilv9DN6XO4vLyhvM

{
   "content": "Chaque année, si tout le monde vivait comme un Français, il faudrait les ressources renouvelables de trois planètes pour répondre à nos besoins. Un rythme effréné qui ne pourra pas durer. Peut-on cependant continuer à vivre confortablement sans épuiser les ressources à notre disposition ? C’est la question à laquelle tentent de répondre Lionel Montoliu, Nelly Bonnefous et Monica Bassett avec un projet expérimental d’éco-villages et leur ONG 0.6 Planet. Ce projet crée il y a deux ans à un but simple : prouver qu’un nouveau mode de vie, durable, compatible avec les limites planétaires est possible et enviable. Pour cela, ils ont ouvert leur premier éco-village à Champ Romain dans le Périgord en janvier Le concept des éco-villages remonte au Sommet de la Terre, organisé à Rio en 1992 par les Nations Unies. Des ONG ont alors proposé ce modèle d’habitat pour mettre en pratique un mode de vie qui respecte l’environnement et permet un épanouissement de l’humain. En France, il existe aujourd’hui une trentaine d’éco-lieux où vivent quelques dizaines d’habitants, ils sont regroupés dans le réseaux français des Eco-villages, lui-même membre du Global Ecovillage Network qui rassemble quelques 250 organisations dans le monde entier. Mais pour les fondateurs du projet 0.6 Planet, face à l’urgence climatique cela est loin d’être suffisant. Ainsi ils entendent augmenter considérablement le nombre de personnes habitant dans des éco-villages en montrant qu’on peut tout à fait vivre en réduisant son empreinte écologique à 0,6 planète par an, sans diminuer sa qualité de vie. Nelly, Lionel et Monica ont des parcours très différents : Lionel est chercheur au Commissariat à l’énergie atomique et aux énergies alternatives, son épouse Monica est artiste peintre et Nelly vient du monde des médias. Mais ils ont tous les trois vite pris conscience de l’importance d’agir et de changer son mode de vie pour protéger notre planète.  Seulement, pour que ce changement soit significatif il faut qu’il implique une grande partie de la population mondiale. Ils entendent donc proposer, à travers cette expérimentation, un modèle d’habitation durable local qui pourra ensuite être transposé et adapté ailleurs dans le monde. Pour Nelly il s’agit simplement « d’apporter des solutions locales à un problème global ». L’éco-village de Champ Romain regroupe actuellement 12 habitants sur un terrain de 50 hectares avec une forêt, un étang, un centre équestre et une maison commune. L’éco-village venant d’ouvrir, il reste encore beaucoup à faire et à construire. Le centre équestre sera transformé en un centre de formation à la permaculture, à l’écoconstruction, à l’aquaponie et au développement personnel. Le site abritera aussi un incubateur low tech qui produira, par exemple, des pompes à chaleur et des panneaux solaires. Un centre d’activité artisanale où l’on pourra notamment travailler le verre et la céramique sera également construit. Le village aura une véritable activité maraîchère et arboricole avec pas moins de 2000 arbres fruitiers qui seront plantés. Les habitants ont pour objectif de produire du miel, de l’huile de lin, de chanvre et de noix, de la farine de châtaigne, de sarrasin et du fromage dont les deux tiers seront destinés à la vente en circuit court. Le but est que l’éco-village fournisse entre 50 et 100 emplois directs.",
   "title": "Vivre et consommer autrement : les éco-villages testent un mode de vie durable" ,
   "path": "https://images.unric.org/fr/wp-content/uploads/sites/2/2021/03/ecovillage-champ-romain-1068x662.jpg.webp",
   "category_1": "Maison"
}

### Test de la route pour créer un nouveau post
POST {{ endpoint }}/post/create
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjMsInBzZXVkbyI6IkV1c8OoYmU1NCIsImRlc2NyaXB0aW9uIjpudWxsLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTQ6MTA6NDcuMTEwWiIsInVwZGF0ZWRfYXQiOm51bGwsInR5cGUiOiJ1c2VyIiwiaWF0IjoxNjU1OTk5NTE2LCJleHAiOjE2NTYwMDMxMTZ9.l6tQ1NatoLw_Gx3zQDTWGikysXefOzGs1p5gcR6iS34

{
   "content": "Salut les amis, je viens de m'inscrire sur essencial, ça a vraiment l'air super cool! j'écris mon premier post pour vous montrer une photo de mon chien",
   "title": "FAIRE SA LESSIVE AU LIERRE : RECETTE FACILE ET 100% ÉCOLOGIQUE" ,
   "path": "https://www.cliniquelarenardiere.com/wp-content/uploads/2016/07/vision-chez-le-chien-.jpg"
}

### Test de la route pour supprimer un post
DELETE {{ endpoint }}/post/1018
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzIsIm5hbWUiOiJ0ZXN0IiwicmVnaW9uIjpudWxsLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMVQyMTozMjozMS42MDlaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6ImVjb3ZpbGxhZ2UiLCJpYXQiOjE2NTU4NDc0NDgsImV4cCI6MTY1NTg1MTA0OH0.LO0GqTf4JdS2uzy1TD8hvqL7CBA-cHjT1cu4BoItXsU

### Test de la route pour afficher un post
GET {{ endpoint }}/post/1018
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJNYXVnaXM4NEBnbWFpbC5jb20iLCJmaXJzdF9uYW1lIjoiTWF1Z2lzIiwibGFzdF9uYW1lIjoiTWV1bmllciIsInBzZXVkbyI6Ik1hdWdpczEzIiwiZGF0ZV9vZl9iaXJ0aCI6IjIwMDMtMDQtMDVUMDE6MTU6NTAuMDYzWiIsInBhc3N3b3JkIjoidGVzdCIsInJpZ2h0cyI6InVzZXIiLCJwaG9uZV9udW1iZXIiOiIwNjgzMjE0NDE1IiwiYWRkcmVzcyI6IjAgVm9pZSBNb3VmZmV0YXJkIiwicmVnaW9uIjoiQ29yc2UiLCJ6aXBfY29kZSI6Ijg4Mjk2IiwiY2l0eSI6Ik5hbmN5IiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjBUMTE6MTY6MjIuOTIzWiIsInVwZGF0ZWRfYXQiOm51bGwsImlhdCI6MTY1NTcyOTYzNSwiZXhwIjoxNjU1NzMxNDM1fQ.hzFUKeQlCJ1WKEo9-UBowC-tqjvFn7_cttTqqe15EHs

### Test de la route pour afficher tout les tuto
GET {{ endpoint }}/post/tuto

///////////////////////////////////////////////////////
///////////////////   ECO VILLAGE   ///////////////////
//////////////////////////////////////////////////////

### Test de la route pour récupérer tout les eco village
GET {{ endpoint }}/ecovillage

### Test de la route pour récupérer un eco village
GET {{ endpoint }}/ecovillage/8
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywiZW1haWwiOiJ0ZVN0aGtuanRAZXhhbXBsZS5jb20iLCJuYW1lIjoidGVzdCIsImRlc2NyaXB0aW9uIjoidGVzdCBkZXNjcmlwdGlvbiIsImFkZHJlc3MiOiIxMiBydWUgZHUgdGVzdCIsInppcF9jb2RlIjoiNzg5NDMiLCJjaXR5IjoidGVzdCIsImZpcnN0X25hbWVfbWFuYWdlciI6IkJlcm5hcmRvIiwibGFzdF9uYW1lX21hbmFnZXIiOiJEZWxhdmVpZ2EiLCJkYXRlX29mX2JpcnRoX21hbmFnZXIiOm51bGwsInBhc3N3b3JkIjoidGVzdCIsInBob25lX251bWJlciI6IjA3NjUzODg1NjEiLCJ3ZWJzaXRlIjpudWxsLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxNTowNDo1Ny4zODdaIiwidXBkYXRlZF9hdCI6bnVsbCwiaWF0IjoxNjU1NzQ2NzI4LCJleHAiOjE2NTU3NDg1Mjh9.XngUVIbpyM6eQFYc6-pCr7DTUtKvjLJLwD0T3UlKa6E

### Test de la route pour créer un éco village
POST {{ endpoint }}/ecovillage/create
Content-Type:application/json

{
    "email": "contact@saintecamelle.fr",
    "name": "Ecovillage Sainte Camelle",
    "description": "Nous sommes environ une vingtaine de personnes à vivre cette super aventure. Nous avons tous choisi cette forme de vie parce que nous croyons que le rassemblement de différentes compétences, expériences, identités est une réelle réponse à certains problèmes actuels de notre société. A savoir le problème que pose l’individualisme prédominant. Le rassemblement permet aussi à l’intelligence collective de s’exprimer. Nous mettons beaucoup de coeur à préserver un relationnel harmonieux entre nous car nous avons expérimenté que c’est la base du vivre-ensemble. Bien sûr, cela demande l’effort d’un réel travail intérieur pour chacun. C’est-à-dire être conscient de ses points forts et de ses points faibles. Chacun de nous a choisi d’être un plus pour ce collectif et non d’être le « boulet » qui apporte un problème. Nous avons une vision commune afin que chacun puisse exprimer totalement son potentiel, être pleinement lui-même au service de notre mission commune. Nous cultivons la solidarité, l’entraide, le respect de soi, de l’autre et de l’environnement, le partage, la joie du faire-ensemble et la joie d’être… Nous avons à coeur de témoigner de ce que l’on vit. Et de témoigner d’un modèle pérenne sur le plan économique, relationnel, écologique, social et humanitaire. Nous avons tous choisi de travailler sur le lieu afin de re-créer une économie locale avec une pépinière de différents projets dont certains sont des projets collectifs et d’autres des projets personnels.",
    "first_name_manager": "Jean-jacques",
    "last_name_manager": "Sousa",
    "password": "test",
    "address": "Sainte Camelle",
    "region": "Ariège",
    "city": "Saint-Victor-Rouzaud",
    "website": "https://ecovillagestecamelle.fr/",
    "zip_code":"09100",
    "phone_number": "0607012089",
    "path": "https://ecovillagestecamelle.fr/wp-content/uploads/2017/12/IMG_0010-16-9.jpg"
}

### Test de la route pour supprimer un eco village
DELETE {{ endpoint }}/ecovillage/7
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywibmFtZSI6InRlc3QiLCJyZWdpb24iOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTA2LTIxVDE4OjEzOjUyLjc1MloiLCJ1cGRhdGVkX2F0IjpudWxsLCJ0eXBlIjoiZWNvdmlsbGFnZSIsImlhdCI6MTY1NTgzNTI3OSwiZXhwIjoxNjU1ODM3MDc5fQ.k0vwodk1NImuVNUeCsoDEc6TYGVNPLwezGDr1sxL2KE

### Test de la route pour modifier un éco village
PATCH {{ endpoint }}/ecovillage/4
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwibmFtZSI6IkxlcyBwdWl0cyBkZSBMYWNoYXVkIiwicmVnaW9uIjoiUHV5LWRlLUTDtG1lIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjNUMTM6MDk6MjEuMDI4WiIsInVwZGF0ZWRfYXQiOm51bGwsInR5cGUiOiJlY292aWxsYWdlIiwiaWF0IjoxNjU1OTk1NDQ0LCJleHAiOjE2NTU5OTkwNDR9.q2Vac2J3ifYrXZvMWZHUNStn5ZeM3E2mp3KOKN0TFxA

{
    "website":"http://ecolieuxdefrance.free.fr/LES_SITES/Les_puitsdelachaud.htm"
}


