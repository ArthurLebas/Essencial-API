################################################################################
# Fichier de test des routes HTTP de l'API
# Nécessite l'extension REST Client pour VSCode
# https://marketplace.visualstudio.com/items?itemName=humao.rest-client
################################################################################

#@endpoint = http://localhost:3000/api
@endpoint = https://essencial-api.herokuapp.com/api

### Test d'une route introuvable
GET {{ endpoint }}/ujnlkcsdcs

/////////////////////////////////////////////////
///////////////////   USER   ///////////////////
////////////////////////////////////////////////

### Test de la route connexion globale
POST {{ endpoint }}/connexion
Content-Type:application/json

{
    "email": "Matthias27@gmail.com",
    "password": "test"
}


### Test de la route pour récupérer tous les utilisateurs (avec leurs photos)
GET {{ endpoint }}/user
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibmFtZSI6InRlc3QiLCJyZWdpb24iOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTA2LTIyVDEwOjQwOjMxLjU1NFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJ0eXBlIjoiZWNvdmlsbGFnZSIsImlhdCI6MTY1NTkwMTgxNywiZXhwIjoxNjU1OTA1NDE3fQ.QJhAyrBOMsy0pEGXl16gQruT1SoDFJB55kw2Cr_XnP4

### Test de la route pour récupérer un utilisateur et sa photo
GET {{ endpoint }}/user/235
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOm51bGwsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMlQxODoyMjoyNy41MTRaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU5MjIyMjYsImV4cCI6MTY1NTkyNTgyNn0.J9hQh_ouMNY4TOQo3lPKbciY-Yheo4tUKI0H8nbhYzg

### Test de la route pour ajouter un nouvel utilisateur
POST {{ endpoint }}/user/create
Content-Type:application/json

{
    "email": "tni@yahoo.org",
    "first_name": "Tony",
    "last_name": "Williams",
    "pseudo": "drum1",
    "date_of_birth": "2021-10-29T02:58:12.923Z",
    "password": "test",
    "phone_number": "0677777777",
    "address": "77 rue du test",
    "region": "ile de france",
    "zip_code": "75829",
    "city": "Paris",
    "path": "https://images.sk-static.com/images/media/profile_images/artists/517366/huge_avatar"
}

### Test de la route pour supprimer un utilisateur
DELETE {{ endpoint }}/user/1
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInBzZXVkbyI6IkFybWFuY2UyNCIsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxOTo0MjowNC43MDhaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU4MDYwMDAsImV4cCI6MTY1NTgwNzgwMH0.3Jq9CN5s9sNfhSvbdRmGv3v_s44iJxw1JigDfQaySmU

### Test de la route pour récupérer tout les amis d'un utilisateur
GET {{ endpoint }}/user/friends/1
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOiJib25qb3VyIG1vaSBjJ2VzdCBSb2JlcnQiLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTg6MjI6MjcuNTE0WiIsInVwZGF0ZWRfYXQiOiIyMDIyLTA2LTIzVDExOjI4OjUzLjMwNloiLCJ0eXBlIjoidXNlciIsImlhdCI6MTY1NTk4NTk2OCwiZXhwIjoxNjU1OTg5NTY4fQ.1FWBwk4uIROirW_dQEFjZ5v7YSYeQ8N2ZBcOljf61x8

### Test de la route pour récupérer tout les posts d'un utilisateur
GET {{ endpoint }}/user/posts/120
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInBzZXVkbyI6IkFybWFuY2UyNCIsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxOTo0MjowNC43MDhaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU4MDYxNjIsImV4cCI6MTY1NTgwNzk2Mn0.vAtRy0_MmbYULr3T40tLgETcnAhQ-cvFMJsEBDU68sI

### Test de la route pour afficher tout les posts de tout les amis d'un utilisateurs
GET {{ endpoint }}/user/friends/posts/120
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInBzZXVkbyI6IkFybWFuY2UyNCIsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxOTo0MjowNC43MDhaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU4MDYxNjIsImV4cCI6MTY1NTgwNzk2Mn0.vAtRy0_MmbYULr3T40tLgETcnAhQ-cvFMJsEBDU68sI

### Test de la route pour update un utilisateur
PATCH {{ endpoint }}/user
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6OSwicHNldWRvIjoiTWF0dGhpYXM2OSIsImRlc2NyaXB0aW9uIjpudWxsLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTQ6MTA6NDYuNzI4WiIsInVwZGF0ZWRfYXQiOm51bGwsInR5cGUiOiJ1c2VyIiwiaWF0IjoxNjU1OTk2NDc5LCJleHAiOjE2NTYwMDAwNzl9.P3rLCAOyio2Hs9Cbc43EzMhw0KZi4RCZJZpxpxHt4jQ

{
    "first_name": "Robert",
    "region": "Tatooine"
}

### Test de la route pour ajouter un amis
GET {{ endpoint }}/user/friends/add/14
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOiJib25qb3VyIG1vaSBjJ2VzdCBSb2JlcnQiLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTg6MjI6MjcuNTE0WiIsInVwZGF0ZWRfYXQiOiIyMDIyLTA2LTIzVDExOjI4OjUzLjMwNloiLCJ0eXBlIjoidXNlciIsImlhdCI6MTY1NTk4NTk2OCwiZXhwIjoxNjU1OTg5NTY4fQ.1FWBwk4uIROirW_dQEFjZ5v7YSYeQ8N2ZBcOljf61x8

### Test de la route pour supprimer un amis
DELETE {{ endpoint }}/user/friends/delete/11
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicHNldWRvIjoiQXVyw6hsZTIxIiwiZGVzY3JpcHRpb24iOm51bGwsInJpZ2h0cyI6InVzZXIiLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMlQxODoyMjoyNy41MTRaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6InVzZXIiLCJpYXQiOjE2NTU5ODM2NDQsImV4cCI6MTY1NTk4NzI0NH0.WyrhWA8P54e5fMbwt57BHczKFxINrtj1tiPe5VIwdZQ

////////////////////////////////////////////////
///////////////////   POST   //////////////////
///////////////////////////////////////////////

### Test de la route pour créer un nouveau post
POST {{ endpoint }}/post/create
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjMsInBzZXVkbyI6IkV1c8OoYmU1NCIsImRlc2NyaXB0aW9uIjpudWxsLCJyaWdodHMiOiJ1c2VyIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjJUMTQ6MTA6NDcuMTEwWiIsInVwZGF0ZWRfYXQiOm51bGwsInR5cGUiOiJ1c2VyIiwiaWF0IjoxNjU2MDU1MDI1LCJleHAiOjE2NTYwNTg2MjV9.A80xIBtV_ADfd9qLrxJ6dbx9jFFeKSJFchUlrVggI2s

{
   "content": "Le fonctionnement du composteur est assez simple. Le compost se forme par l'action de micro-organismes et par un processus de fermentation. Sans oxygène et sans eau, aucune forme de vie n'est possible. Quand le compost Est-il mûr ? Au bout de 8 à 12 mois en moyenne, lorsque les déchets se sont transformés en une terre grumeleuse, friable, brun foncé, le compost est prêt à être utilisé. C'est le compost mûr, ressemblant au terreau et dégageant une odeur de sous-bois, qui contient un effet amendant et fertilisant.",
   "title": "Comment fonctionne un bac à compost ?" ,
   "path": "https://trucmania.ouest-france.fr/wp-content/uploads/2020/09/bac-a-compost-en-palettes-%C2%A9-Nature-et-construction.jpg",
   "category_1": "Tutoriel"
}

### Test de la route pour supprimer un post
DELETE {{ endpoint }}/post/1018
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzIsIm5hbWUiOiJ0ZXN0IiwicmVnaW9uIjpudWxsLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMVQyMTozMjozMS42MDlaIiwidXBkYXRlZF9hdCI6bnVsbCwidHlwZSI6ImVjb3ZpbGxhZ2UiLCJpYXQiOjE2NTU4NDc0NDgsImV4cCI6MTY1NTg1MTA0OH0.LO0GqTf4JdS2uzy1TD8hvqL7CBA-cHjT1cu4BoItXsU

### Test de la route pour afficher un post
GET {{ endpoint }}/post/1018
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJNYXVnaXM4NEBnbWFpbC5jb20iLCJmaXJzdF9uYW1lIjoiTWF1Z2lzIiwibGFzdF9uYW1lIjoiTWV1bmllciIsInBzZXVkbyI6Ik1hdWdpczEzIiwiZGF0ZV9vZl9iaXJ0aCI6IjIwMDMtMDQtMDVUMDE6MTU6NTAuMDYzWiIsInBhc3N3b3JkIjoidGVzdCIsInJpZ2h0cyI6InVzZXIiLCJwaG9uZV9udW1iZXIiOiIwNjgzMjE0NDE1IiwiYWRkcmVzcyI6IjAgVm9pZSBNb3VmZmV0YXJkIiwicmVnaW9uIjoiQ29yc2UiLCJ6aXBfY29kZSI6Ijg4Mjk2IiwiY2l0eSI6Ik5hbmN5IiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjBUMTE6MTY6MjIuOTIzWiIsInVwZGF0ZWRfYXQiOm51bGwsImlhdCI6MTY1NTcyOTYzNSwiZXhwIjoxNjU1NzMxNDM1fQ.hzFUKeQlCJ1WKEo9-UBowC-tqjvFn7_cttTqqe15EHs

### Test de la route pour afficher tout les tuto
GET {{ endpoint }}/post/tuto

///////////////////////////////////////////////////////
///////////////////   ECO VILLAGE   ///////////////////
//////////////////////////////////////////////////////

### Test de la route pour récupérer tout les eco village
GET {{ endpoint }}/ecovillage

### Test de la route pour récupérer un eco village
GET {{ endpoint }}/ecovillage/8
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywiZW1haWwiOiJ0ZVN0aGtuanRAZXhhbXBsZS5jb20iLCJuYW1lIjoidGVzdCIsImRlc2NyaXB0aW9uIjoidGVzdCBkZXNjcmlwdGlvbiIsImFkZHJlc3MiOiIxMiBydWUgZHUgdGVzdCIsInppcF9jb2RlIjoiNzg5NDMiLCJjaXR5IjoidGVzdCIsImZpcnN0X25hbWVfbWFuYWdlciI6IkJlcm5hcmRvIiwibGFzdF9uYW1lX21hbmFnZXIiOiJEZWxhdmVpZ2EiLCJkYXRlX29mX2JpcnRoX21hbmFnZXIiOm51bGwsInBhc3N3b3JkIjoidGVzdCIsInBob25lX251bWJlciI6IjA3NjUzODg1NjEiLCJ3ZWJzaXRlIjpudWxsLCJjcmVhdGVkX2F0IjoiMjAyMi0wNi0yMFQxNTowNDo1Ny4zODdaIiwidXBkYXRlZF9hdCI6bnVsbCwiaWF0IjoxNjU1NzQ2NzI4LCJleHAiOjE2NTU3NDg1Mjh9.XngUVIbpyM6eQFYc6-pCr7DTUtKvjLJLwD0T3UlKa6E

### Test de la route pour créer un éco village
POST {{ endpoint }}/ecovillage/create
Content-Type:application/json

{
    "email": "contact@saintecamelle.fr",
    "name": "Ecovillage Sainte Camelle",
    "description": "Nous sommes environ une vingtaine de personnes à vivre cette super aventure. Nous avons tous choisi cette forme de vie parce que nous croyons que le rassemblement de différentes compétences, expériences, identités est une réelle réponse à certains problèmes actuels de notre société. A savoir le problème que pose l’individualisme prédominant. Le rassemblement permet aussi à l’intelligence collective de s’exprimer. Nous mettons beaucoup de coeur à préserver un relationnel harmonieux entre nous car nous avons expérimenté que c’est la base du vivre-ensemble. Bien sûr, cela demande l’effort d’un réel travail intérieur pour chacun. C’est-à-dire être conscient de ses points forts et de ses points faibles. Chacun de nous a choisi d’être un plus pour ce collectif et non d’être le « boulet » qui apporte un problème. Nous avons une vision commune afin que chacun puisse exprimer totalement son potentiel, être pleinement lui-même au service de notre mission commune. Nous cultivons la solidarité, l’entraide, le respect de soi, de l’autre et de l’environnement, le partage, la joie du faire-ensemble et la joie d’être… Nous avons à coeur de témoigner de ce que l’on vit. Et de témoigner d’un modèle pérenne sur le plan économique, relationnel, écologique, social et humanitaire. Nous avons tous choisi de travailler sur le lieu afin de re-créer une économie locale avec une pépinière de différents projets dont certains sont des projets collectifs et d’autres des projets personnels.",
    "first_name_manager": "Jean-jacques",
    "last_name_manager": "Sousa",
    "password": "test",
    "address": "Sainte Camelle",
    "region": "Ariège",
    "city": "Saint-Victor-Rouzaud",
    "website": "https://ecovillagestecamelle.fr/",
    "zip_code":"09100",
    "phone_number": "0607012089",
    "path": "https://ecovillagestecamelle.fr/wp-content/uploads/2017/12/IMG_0010-16-9.jpg"
}

### Test de la route pour supprimer un eco village
DELETE {{ endpoint }}/ecovillage/7
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywibmFtZSI6InRlc3QiLCJyZWdpb24iOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTA2LTIxVDE4OjEzOjUyLjc1MloiLCJ1cGRhdGVkX2F0IjpudWxsLCJ0eXBlIjoiZWNvdmlsbGFnZSIsImlhdCI6MTY1NTgzNTI3OSwiZXhwIjoxNjU1ODM3MDc5fQ.k0vwodk1NImuVNUeCsoDEc6TYGVNPLwezGDr1sxL2KE

### Test de la route pour modifier un éco village
PATCH {{ endpoint }}/ecovillage/4
Content-Type:application/json
Authorization: jwt eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwibmFtZSI6IkxlcyBwdWl0cyBkZSBMYWNoYXVkIiwicmVnaW9uIjoiUHV5LWRlLUTDtG1lIiwiY3JlYXRlZF9hdCI6IjIwMjItMDYtMjNUMTM6MDk6MjEuMDI4WiIsInVwZGF0ZWRfYXQiOm51bGwsInR5cGUiOiJlY292aWxsYWdlIiwiaWF0IjoxNjU1OTk1NDQ0LCJleHAiOjE2NTU5OTkwNDR9.q2Vac2J3ifYrXZvMWZHUNStn5ZeM3E2mp3KOKN0TFxA

{
    "website":"http://ecolieuxdefrance.free.fr/LES_SITES/Les_puitsdelachaud.htm"
}


